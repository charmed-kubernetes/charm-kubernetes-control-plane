{
    "dashboard":{
        "annotations":{
            "list":[
                {
                    "builtIn":1,
                    "datasource":"-- Grafana --",
                    "enable":true,
                    "hide":true,
                    "iconColor":"rgba(0, 211, 255, 1)",
                    "name":"Annotations & Alerts",
                    "type":"dashboard"
                }
            ]
        },
        "description":"Monitors Kubernetes cluster using Prometheus. Shows overall cluster CPU / Memory / Filesystem usage as well as individual pod, containers, systemd services statistics. Uses cAdvisor metrics only.",
        "editable":true,
        "gnetId":315,
        "graphTooltip":0,
        "id":null,
        "iteration":1572969306389,
        "links":[

        ],
        "panels":[
            {
                "collapsed":false,
                "gridPos":{
                    "h":1,
                    "w":24,
                    "x":0,
                    "y":0
                },
                "id":49,
                "panels":[

                ],
                "repeat":null,
                "title":"Total usage",
                "type":"row"
            },
            {
                "cacheTimeout":null,
                "colorBackground":false,
                "colorValue":true,
                "colors":[
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                ],
                "datasource":"prometheus - Juju generated source",
                "editable":true,
                "error":false,
                "format":"percent",
                "gauge":{
                    "maxValue":100,
                    "minValue":0,
                    "show":true,
                    "thresholdLabels":false,
                    "thresholdMarkers":true
                },
                "gridPos":{
                    "h":5,
                    "w":8,
                    "x":0,
                    "y":1
                },
                "height":"180px",
                "id":4,
                "interval":null,
                "links":[

                ],
                "mappingType":1,
                "mappingTypes":[
                    {
                        "name":"value to text",
                        "value":1
                    },
                    {
                        "name":"range to text",
                        "value":2
                    }
                ],
                "maxDataPoints":100,
                "nullPointMode":"connected",
                "nullText":null,
                "postfix":"",
                "postfixFontSize":"50%",
                "prefix":"",
                "prefixFontSize":"50%",
                "rangeMaps":[
                    {
                        "from":"null",
                        "text":"N/A",
                        "to":"null"
                    }
                ],
                "sparkline":{
                    "fillColor":"rgba(31, 118, 189, 0.18)",
                    "full":false,
                    "lineColor":"rgb(31, 120, 193)",
                    "show":false
                },
                "tableColumn":"",
                "targets":[
                    {
                        "expr":"sum (container_memory_working_set_bytes{id=\"/\",environment=\"$environment\"}) / sum (machine_memory_bytes{environment=\"$environment\"}) * 100",
                        "format":"time_series",
                        "interval":"10s",
                        "intervalFactor":1,
                        "legendFormat":"",
                        "refId":"A",
                        "step":300
                    }
                ],
                "thresholds":"65, 90",
                "title":"Cluster memory usage",
                "transparent":false,
                "type":"singlestat",
                "valueFontSize":"80%",
                "valueMaps":[
                    {
                        "op":"=",
                        "text":"N/A",
                        "value":"null"
                    }
                ],
                "valueName":"current"
            },
            {
                "cacheTimeout":null,
                "colorBackground":false,
                "colorValue":true,
                "colors":[
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                ],
                "datasource":"prometheus - Juju generated source",
                "decimals":2,
                "editable":true,
                "error":false,
                "format":"percent",
                "gauge":{
                    "maxValue":100,
                    "minValue":0,
                    "show":true,
                    "thresholdLabels":false,
                    "thresholdMarkers":true
                },
                "gridPos":{
                    "h":5,
                    "w":8,
                    "x":8,
                    "y":1
                },
                "height":"180px",
                "id":6,
                "interval":null,
                "links":[

                ],
                "mappingType":1,
                "mappingTypes":[
                    {
                        "name":"value to text",
                        "value":1
                    },
                    {
                        "name":"range to text",
                        "value":2
                    }
                ],
                "maxDataPoints":100,
                "nullPointMode":"connected",
                "nullText":null,
                "postfix":"",
                "postfixFontSize":"50%",
                "prefix":"",
                "prefixFontSize":"50%",
                "rangeMaps":[
                    {
                        "from":"null",
                        "text":"N/A",
                        "to":"null"
                    }
                ],
                "sparkline":{
                    "fillColor":"rgba(31, 118, 189, 0.18)",
                    "full":false,
                    "lineColor":"rgb(31, 120, 193)",
                    "show":false
                },
                "tableColumn":"",
                "targets":[
                    {
                        "expr":"sum (rate (container_cpu_usage_seconds_total{id=\"/\",environment=\"$environment\"}[1m])) / sum (machine_cpu_cores{environment=\"$environment\"}) * 100",
                        "format":"time_series",
                        "interval":"10s",
                        "intervalFactor":1,
                        "legendFormat":"",
                        "refId":"A",
                        "step":300
                    }
                ],
                "thresholds":"65, 90",
                "title":"Cluster CPU usage (1m avg)",
                "type":"singlestat",
                "valueFontSize":"80%",
                "valueMaps":[
                    {
                        "op":"=",
                        "text":"N/A",
                        "value":"null"
                    }
                ],
                "valueName":"current"
            },
            {
                "cacheTimeout":null,
                "colorBackground":false,
                "colorValue":true,
                "colors":[
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                ],
                "datasource":"prometheus - Juju generated source",
                "decimals":2,
                "editable":true,
                "error":false,
                "format":"percent",
                "gauge":{
                    "maxValue":100,
                    "minValue":0,
                    "show":true,
                    "thresholdLabels":false,
                    "thresholdMarkers":true
                },
                "gridPos":{
                    "h":5,
                    "w":8,
                    "x":16,
                    "y":1
                },
                "height":"180px",
                "id":7,
                "interval":null,
                "links":[

                ],
                "mappingType":1,
                "mappingTypes":[
                    {
                        "name":"value to text",
                        "value":1
                    },
                    {
                        "name":"range to text",
                        "value":2
                    }
                ],
                "maxDataPoints":100,
                "nullPointMode":"connected",
                "nullText":null,
                "postfix":"",
                "postfixFontSize":"50%",
                "prefix":"",
                "prefixFontSize":"50%",
                "rangeMaps":[
                    {
                        "from":"null",
                        "text":"N/A",
                        "to":"null"
                    }
                ],
                "sparkline":{
                    "fillColor":"rgba(31, 118, 189, 0.18)",
                    "full":false,
                    "lineColor":"rgb(31, 120, 193)",
                    "show":false
                },
                "tableColumn":"",
                "targets":[
                    {
                        "expr":"sum (container_fs_usage_bytes{environment=\"$environment\"}) / sum (container_fs_limit_bytes{id=\"/\",environment=\"$environment\"}) * 100",
                        "format":"time_series",
                        "interval":"10s",
                        "intervalFactor":1,
                        "legendFormat":"",
                        "metric":"",
                        "refId":"A",
                        "step":300
                    }
                ],
                "thresholds":"65, 90",
                "title":"Cluster filesystem usage",
                "type":"singlestat",
                "valueFontSize":"80%",
                "valueMaps":[
                    {
                        "op":"=",
                        "text":"N/A",
                        "value":"null"
                    }
                ],
                "valueName":"current"
            },
            {
                "cacheTimeout":null,
                "colorBackground":false,
                "colorValue":false,
                "colors":[
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                ],
                "datasource":"prometheus - Juju generated source",
                "decimals":2,
                "editable":true,
                "error":false,
                "format":"bytes",
                "gauge":{
                    "maxValue":100,
                    "minValue":0,
                    "show":false,
                    "thresholdLabels":false,
                    "thresholdMarkers":true
                },
                "gridPos":{
                    "h":3,
                    "w":4,
                    "x":0,
                    "y":6
                },
                "height":"1px",
                "id":9,
                "interval":null,
                "links":[

                ],
                "mappingType":1,
                "mappingTypes":[
                    {
                        "name":"value to text",
                        "value":1
                    },
                    {
                        "name":"range to text",
                        "value":2
                    }
                ],
                "maxDataPoints":100,
                "nullPointMode":"connected",
                "nullText":null,
                "postfix":"",
                "postfixFontSize":"20%",
                "prefix":"",
                "prefixFontSize":"20%",
                "rangeMaps":[
                    {
                        "from":"null",
                        "text":"N/A",
                        "to":"null"
                    }
                ],
                "sparkline":{
                    "fillColor":"rgba(31, 118, 189, 0.18)",
                    "full":false,
                    "lineColor":"rgb(31, 120, 193)",
                    "show":false
                },
                "tableColumn":"",
                "targets":[
                    {
                        "expr":"sum (container_memory_working_set_bytes{id=\"/\",environment=\"$environment\"})",
                        "format":"time_series",
                        "interval":"10s",
                        "intervalFactor":1,
                        "legendFormat":"",
                        "refId":"A",
                        "step":300
                    }
                ],
                "thresholds":"",
                "title":"Used",
                "type":"singlestat",
                "valueFontSize":"50%",
                "valueMaps":[
                    {
                        "op":"=",
                        "text":"N/A",
                        "value":"null"
                    }
                ],
                "valueName":"current"
            },
            {
                "cacheTimeout":null,
                "colorBackground":false,
                "colorValue":false,
                "colors":[
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                ],
                "datasource":"prometheus - Juju generated source",
                "decimals":2,
                "editable":true,
                "error":false,
                "format":"bytes",
                "gauge":{
                    "maxValue":100,
                    "minValue":0,
                    "show":false,
                    "thresholdLabels":false,
                    "thresholdMarkers":true
                },
                "gridPos":{
                    "h":3,
                    "w":4,
                    "x":4,
                    "y":6
                },
                "height":"1px",
                "id":10,
                "interval":null,
                "links":[

                ],
                "mappingType":1,
                "mappingTypes":[
                    {
                        "name":"value to text",
                        "value":1
                    },
                    {
                        "name":"range to text",
                        "value":2
                    }
                ],
                "maxDataPoints":100,
                "nullPointMode":"connected",
                "nullText":null,
                "postfix":"",
                "postfixFontSize":"50%",
                "prefix":"",
                "prefixFontSize":"50%",
                "rangeMaps":[
                    {
                        "from":"null",
                        "text":"N/A",
                        "to":"null"
                    }
                ],
                "sparkline":{
                    "fillColor":"rgba(31, 118, 189, 0.18)",
                    "full":false,
                    "lineColor":"rgb(31, 120, 193)",
                    "show":false
                },
                "tableColumn":"",
                "targets":[
                    {
                        "expr":"sum (machine_memory_bytes{environment=\"$environment\"})",
                        "format":"time_series",
                        "interval":"10s",
                        "intervalFactor":1,
                        "refId":"A",
                        "step":300
                    }
                ],
                "thresholds":"",
                "title":"Total",
                "type":"singlestat",
                "valueFontSize":"50%",
                "valueMaps":[
                    {
                        "op":"=",
                        "text":"N/A",
                        "value":"null"
                    }
                ],
                "valueName":"current"
            },
            {
                "cacheTimeout":null,
                "colorBackground":false,
                "colorValue":false,
                "colors":[
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                ],
                "datasource":"prometheus - Juju generated source",
                "decimals":2,
                "editable":true,
                "error":false,
                "format":"none",
                "gauge":{
                    "maxValue":100,
                    "minValue":0,
                    "show":false,
                    "thresholdLabels":false,
                    "thresholdMarkers":true
                },
                "gridPos":{
                    "h":3,
                    "w":4,
                    "x":8,
                    "y":6
                },
                "height":"1px",
                "id":11,
                "interval":null,
                "links":[

                ],
                "mappingType":1,
                "mappingTypes":[
                    {
                        "name":"value to text",
                        "value":1
                    },
                    {
                        "name":"range to text",
                        "value":2
                    }
                ],
                "maxDataPoints":100,
                "nullPointMode":"connected",
                "nullText":null,
                "postfix":" cores",
                "postfixFontSize":"30%",
                "prefix":"",
                "prefixFontSize":"50%",
                "rangeMaps":[
                    {
                        "from":"null",
                        "text":"N/A",
                        "to":"null"
                    }
                ],
                "sparkline":{
                    "fillColor":"rgba(31, 118, 189, 0.18)",
                    "full":false,
                    "lineColor":"rgb(31, 120, 193)",
                    "show":false
                },
                "tableColumn":"",
                "targets":[
                    {
                        "expr":"sum (rate (container_cpu_usage_seconds_total{id=\"/\",environment=\"$environment\"}[1m]))",
                        "format":"time_series",
                        "interval":"10s",
                        "intervalFactor":1,
                        "refId":"A",
                        "step":300
                    }
                ],
                "thresholds":"",
                "title":"Used",
                "type":"singlestat",
                "valueFontSize":"50%",
                "valueMaps":[
                    {
                        "op":"=",
                        "text":"N/A",
                        "value":"null"
                    }
                ],
                "valueName":"current"
            },
            {
                "cacheTimeout":null,
                "colorBackground":false,
                "colorValue":false,
                "colors":[
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                ],
                "datasource":"prometheus - Juju generated source",
                "decimals":2,
                "editable":true,
                "error":false,
                "format":"none",
                "gauge":{
                    "maxValue":100,
                    "minValue":0,
                    "show":false,
                    "thresholdLabels":false,
                    "thresholdMarkers":true
                },
                "gridPos":{
                    "h":3,
                    "w":4,
                    "x":12,
                    "y":6
                },
                "height":"1px",
                "id":12,
                "interval":null,
                "links":[

                ],
                "mappingType":1,
                "mappingTypes":[
                    {
                        "name":"value to text",
                        "value":1
                    },
                    {
                        "name":"range to text",
                        "value":2
                    }
                ],
                "maxDataPoints":100,
                "nullPointMode":"connected",
                "nullText":null,
                "postfix":" cores",
                "postfixFontSize":"30%",
                "prefix":"",
                "prefixFontSize":"50%",
                "rangeMaps":[
                    {
                        "from":"null",
                        "text":"N/A",
                        "to":"null"
                    }
                ],
                "sparkline":{
                    "fillColor":"rgba(31, 118, 189, 0.18)",
                    "full":false,
                    "lineColor":"rgb(31, 120, 193)",
                    "show":false
                },
                "tableColumn":"",
                "targets":[
                    {
                        "expr":"sum (machine_cpu_cores{environment=\"$environment\"})",
                        "format":"time_series",
                        "interval":"10s",
                        "intervalFactor":1,
                        "refId":"A",
                        "step":300
                    }
                ],
                "thresholds":"",
                "title":"Total",
                "type":"singlestat",
                "valueFontSize":"50%",
                "valueMaps":[
                    {
                        "op":"=",
                        "text":"N/A",
                        "value":"null"
                    }
                ],
                "valueName":"current"
            },
            {
                "cacheTimeout":null,
                "colorBackground":false,
                "colorValue":false,
                "colors":[
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                ],
                "datasource":"prometheus - Juju generated source",
                "decimals":2,
                "editable":true,
                "error":false,
                "format":"bytes",
                "gauge":{
                    "maxValue":100,
                    "minValue":0,
                    "show":false,
                    "thresholdLabels":false,
                    "thresholdMarkers":true
                },
                "gridPos":{
                    "h":3,
                    "w":4,
                    "x":16,
                    "y":6
                },
                "height":"1px",
                "id":13,
                "interval":null,
                "links":[

                ],
                "mappingType":1,
                "mappingTypes":[
                    {
                        "name":"value to text",
                        "value":1
                    },
                    {
                        "name":"range to text",
                        "value":2
                    }
                ],
                "maxDataPoints":100,
                "nullPointMode":"connected",
                "nullText":null,
                "postfix":"",
                "postfixFontSize":"50%",
                "prefix":"",
                "prefixFontSize":"50%",
                "rangeMaps":[
                    {
                        "from":"null",
                        "text":"N/A",
                        "to":"null"
                    }
                ],
                "sparkline":{
                    "fillColor":"rgba(31, 118, 189, 0.18)",
                    "full":false,
                    "lineColor":"rgb(31, 120, 193)",
                    "show":false
                },
                "tableColumn":"",
                "targets":[
                    {
                        "expr":"sum (container_fs_usage_bytes{id=\"/\",environment=\"$environment\"})",
                        "format":"time_series",
                        "interval":"10s",
                        "intervalFactor":1,
                        "legendFormat":"",
                        "refId":"A",
                        "step":300
                    }
                ],
                "thresholds":"",
                "title":"Used",
                "type":"singlestat",
                "valueFontSize":"50%",
                "valueMaps":[
                    {
                        "op":"=",
                        "text":"N/A",
                        "value":"null"
                    }
                ],
                "valueName":"current"
            },
            {
                "cacheTimeout":null,
                "colorBackground":false,
                "colorValue":false,
                "colors":[
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                ],
                "datasource":"prometheus - Juju generated source",
                "decimals":2,
                "editable":true,
                "error":false,
                "format":"bytes",
                "gauge":{
                    "maxValue":100,
                    "minValue":0,
                    "show":false,
                    "thresholdLabels":false,
                    "thresholdMarkers":true
                },
                "gridPos":{
                    "h":3,
                    "w":4,
                    "x":20,
                    "y":6
                },
                "height":"1px",
                "id":14,
                "interval":null,
                "links":[

                ],
                "mappingType":1,
                "mappingTypes":[
                    {
                        "name":"value to text",
                        "value":1
                    },
                    {
                        "name":"range to text",
                        "value":2
                    }
                ],
                "maxDataPoints":100,
                "nullPointMode":"connected",
                "nullText":null,
                "postfix":"",
                "postfixFontSize":"50%",
                "prefix":"",
                "prefixFontSize":"50%",
                "rangeMaps":[
                    {
                        "from":"null",
                        "text":"N/A",
                        "to":"null"
                    }
                ],
                "sparkline":{
                    "fillColor":"rgba(31, 118, 189, 0.18)",
                    "full":false,
                    "lineColor":"rgb(31, 120, 193)",
                    "show":false
                },
                "tableColumn":"",
                "targets":[
                    {
                        "expr":"sum (container_fs_limit_bytes{id=\"/\",environment=\"$environment\"})",
                        "format":"time_series",
                        "interval":"10s",
                        "intervalFactor":1,
                        "legendFormat":"",
                        "refId":"A",
                        "step":300
                    }
                ],
                "thresholds":"",
                "title":"Total",
                "type":"singlestat",
                "valueFontSize":"50%",
                "valueMaps":[
                    {
                        "op":"=",
                        "text":"N/A",
                        "value":"null"
                    }
                ],
                "valueName":"current"
            },
            {
                "collapsed":true,
                "gridPos":{
                    "h":1,
                    "w":24,
                    "x":0,
                    "y":9
                },
                "id":50,
                "panels":[
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "description":"From: https://wiki.canonical.com/InformationInfrastructure/IS/Kubernetes/Playbook#ControllerCPUIdle_Alert_.2F_Why_is_the_comms_cluster_meltingdown.3F\n\n\"If the comms team pods all go down it is due to the api-server being wedged.\n\nTo fix ssh to the kubernetes-master/0 unit and check the current cpu idle. If it's consistently under 10 then restart the controller like\n\nsudo systemctl restart snap.kube-apiserver.daemon.service\n\nIf DNS is also not working for the pods. You can verify by running kubectl -n kube-system describe kube-dns | grep replica, if it's 0 then DNS has disappeared. To fix this edit the deployment and bump the replica up to 1.\n\nkubectl edit --namespace kube-system deployment/kube-dns\"",
                        "fill":1,
                        "gridPos":{
                            "h":7,
                            "w":24,
                            "x":0,
                            "y":10
                        },
                        "id":48,
                        "legend":{
                            "avg":false,
                            "current":false,
                            "max":false,
                            "min":false,
                            "show":true,
                            "total":false,
                            "values":false
                        },
                        "lines":true,
                        "linewidth":1,
                        "links":[

                        ],
                        "nullPointMode":"null",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":false,
                        "targets":[
                            {
                                "expr":"cpu_usage_idle{cpu=\"cpu-total\",environment=\"$environment\",host=~\".*kubernetes-master.*\"}",
                                "format":"time_series",
                                "intervalFactor":2,
                                "legendFormat":"{{host}}",
                                "refId":"A"
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"kubernetes-master CPU idle",
                        "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"percent",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            }
                        ],
                        "yaxis":{
                            "align":false,
                            "alignLevel":null
                        }
                    }
                ],
                "repeat":null,
                "title":"kubernetes-master CPU idle",
                "type":"row"
            },
            {
                "collapsed":true,
                "gridPos":{
                    "h":1,
                    "w":24,
                    "x":0,
                    "y":10
                },
                "id":51,
                "panels":[
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "fill":1,
                        "gridPos":{
                            "h":7,
                            "w":12,
                            "x":0,
                            "y":11
                        },
                        "id":41,
                        "legend":{
                            "avg":false,
                            "current":false,
                            "max":false,
                            "min":false,
                            "show":false,
                            "total":false,
                            "values":false
                        },
                        "lines":true,
                        "linewidth":1,
                        "links":[

                        ],
                        "nullPointMode":"null",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":true,
                        "steppedLine":false,
                        "targets":[
                            {
                                "expr":"sum(rate(apiserver_request_latencies_sum{environment=\"$environment\"}[1m])) / sum(rate(apiserver_request_latencies_count{environment=\"$environment\"}[1m]))",
                                "format":"time_series",
                                "intervalFactor":2,
                                "legendFormat":"{{username}}",
                                "refId":"A",
                                "step":60
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"API request latency",
                        "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"ms",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            }
                        ],
                        "yaxis":{
                            "align":false,
                            "alignLevel":null
                        }
                    },
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "fill":1,
                        "gridPos":{
                            "h":7,
                            "w":12,
                            "x":12,
                            "y":11
                        },
                        "id":37,
                        "legend":{
                            "avg":false,
                            "current":false,
                            "max":false,
                            "min":false,
                            "show":true,
                            "total":false,
                            "values":false
                        },
                        "lines":true,
                        "linewidth":1,
                        "links":[

                        ],
                        "nullPointMode":"null",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":false,
                        "targets":[
                            {
                                "expr":"sum(rate(apiserver_request_count{environment=\"$environment\"}[1m])) by (code)",
                                "format":"time_series",
                                "intervalFactor":2,
                                "legendFormat":"{{code}}",
                                "refId":"A",
                                "step":60
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"API server hits by code",
                        "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            }
                        ],
                        "yaxis":{
                            "align":false,
                            "alignLevel":null
                        }
                    },
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "fill":1,
                        "gridPos":{
                            "h":7,
                            "w":12,
                            "x":0,
                            "y":18
                        },
                        "id":38,
                        "legend":{
                            "avg":false,
                            "current":false,
                            "max":false,
                            "min":false,
                            "show":true,
                            "total":false,
                            "values":false
                        },
                        "lines":true,
                        "linewidth":1,
                        "links":[

                        ],
                        "nullPointMode":"null",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":true,
                        "steppedLine":false,
                        "targets":[
                            {
                                "expr":"rate(authenticated_user_requests{environment=\"$environment\"}[1m])",
                                "format":"time_series",
                                "intervalFactor":2,
                                "legendFormat":"{{username}}",
                                "refId":"A",
                                "step":60
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"Authenticated user requests",
                        "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            }
                        ],
                        "yaxis":{
                            "align":false,
                            "alignLevel":null
                        }
                    },
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "fill":0,
                        "gridPos":{
                            "h":7,
                            "w":12,
                            "x":12,
                            "y":18
                        },
                        "id":39,
                        "legend":{
                            "avg":false,
                            "current":false,
                            "max":false,
                            "min":false,
                            "show":true,
                            "total":false,
                            "values":false
                        },
                        "lines":true,
                        "linewidth":1,
                        "links":[

                        ],
                        "nullPointMode":"null",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":false,
                        "targets":[
                            {
                                "expr":"histogram_quantile(0.95, sum(rate(apiserver_request_latencies_bucket{environment=\"$environment\"}[5m])) by (le,resource) )",
                                "format":"time_series",
                                "hide":false,
                                "intervalFactor":2,
                                "legendFormat":"{{resource}}",
                                "refId":"A",
                                "step":60
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"API request latency by resource 95th percentile",
                        "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"ms",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            }
                        ],
                        "yaxis":{
                            "align":false,
                            "alignLevel":null
                        }
                    },
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "fill":1,
                        "gridPos":{
                            "h":7,
                            "w":12,
                            "x":0,
                            "y":25
                        },
                        "id":40,
                        "legend":{
                            "avg":false,
                            "current":false,
                            "max":false,
                            "min":false,
                            "show":true,
                            "total":false,
                            "values":false
                        },
                        "lines":true,
                        "linewidth":1,
                        "links":[

                        ],
                        "nullPointMode":"null",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":false,
                        "targets":[
                            {
                                "expr":"histogram_quantile(0.95, sum(rate(apiserver_request_latencies_bucket{environment=\"$environment\"}[5m])) by (le,verb) )",
                                "format":"time_series",
                                "hide":false,
                                "intervalFactor":2,
                                "legendFormat":"{{verb}}",
                                "refId":"A",
                                "step":30
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"API request latency by resource 95th percentile",
                        "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"ms",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            }
                        ],
                        "yaxis":{
                            "align":false,
                            "alignLevel":null
                        }
                    }
                ],
                "repeat":null,
                "title":"API server",
                "type":"row"
            },
            {
                "collapsed":true,
                "gridPos":{
                    "h":1,
                    "w":24,
                    "x":0,
                    "y":11
                },
                "id":52,
                "panels":[
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "fill":1,
                        "gridPos":{
                            "h":7,
                            "w":12,
                            "x":0,
                            "y":32
                        },
                        "id":42,
                        "legend":{
                            "avg":false,
                            "current":false,
                            "max":false,
                            "min":false,
                            "show":true,
                            "total":false,
                            "values":false
                        },
                        "lines":true,
                        "linewidth":1,
                        "links":[

                        ],
                        "nullPointMode":"null",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":false,
                        "targets":[
                            {
                                "expr":"rate(admission_quota_controller_adds{environment=\"$environment\"}[10m])",
                                "format":"time_series",
                                "intervalFactor":2,
                                "legendFormat":"",
                                "refId":"A",
                                "step":60
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"Admission requests (10min avg)",
                        "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"none",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            }
                        ]
                    },
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "fill":1,
                        "gridPos":{
                            "h":7,
                            "w":12,
                            "x":12,
                            "y":32
                        },
                        "id":44,
                        "legend":{
                            "avg":false,
                            "current":false,
                            "max":false,
                            "min":false,
                            "show":true,
                            "total":false,
                            "values":false
                        },
                        "lines":true,
                        "linewidth":1,
                        "links":[

                        ],
                        "nullPointMode":"null",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":false,
                        "targets":[
                            {
                                "expr":"rate(admission_quota_controller_queue_latency_sum{environment=\"$environment\"}[10m]) / rate(admission_quota_controller_queue_latency_count{environment=\"$environment\"}[10m])",
                                "format":"time_series",
                                "intervalFactor":2,
                                "legendFormat":"",
                                "refId":"A",
                                "step":60
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"Admission controller queue latency (10min avg)",
                        "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"ms",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            }
                        ]
                    },
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "fill":1,
                        "gridPos":{
                            "h":7,
                            "w":12,
                            "x":0,
                            "y":39
                        },
                        "id":43,
                        "legend":{
                            "avg":false,
                            "current":false,
                            "max":false,
                            "min":false,
                            "show":true,
                            "total":false,
                            "values":false
                        },
                        "lines":true,
                        "linewidth":1,
                        "links":[

                        ],
                        "nullPointMode":"null",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":false,
                        "targets":[
                            {
                                "expr":"rate(admission_quota_controller_work_duration_sum{environment=\"$environment\"}[10m]) / rate(admission_quota_controller_work_duration_count{environment=\"$environment\"}[10m])",
                                "format":"time_series",
                                "intervalFactor":2,
                                "legendFormat":"",
                                "refId":"A",
                                "step":60
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"Admission controller work (10min avg)",
                        "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"ms",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            }
                        ]
                    }
                ],
                "repeat":null,
                "title":"Admission controller",
                "type":"row"
            },
            {
                "collapsed":true,
                "gridPos":{
                    "h":1,
                    "w":24,
                    "x":0,
                    "y":12
                },
                "id":53,
                "panels":[
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "fill":1,
                        "gridPos":{
                            "h":7,
                            "w":12,
                            "x":0,
                            "y":13
                        },
                        "id":36,
                        "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "max":true,
                            "min":true,
                            "show":true,
                            "total":false,
                            "values":true
                        },
                        "lines":true,
                        "linewidth":1,
                        "links":[

                        ],
                        "nullPointMode":"null",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":false,
                        "targets":[
                            {
                                "expr":"etcd_request_cache_get_latencies_summary{environment=\"$environment\"}",
                                "format":"time_series",
                                "intervalFactor":2,
                                "legendFormat":"Quantile {{quantile}}",
                                "refId":"A",
                                "step":60
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"Cache request latencies (get)",
                        "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"ms",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":"0",
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":false
                            }
                        ],
                        "yaxis":{
                            "align":false,
                            "alignLevel":null
                        }
                    },
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "fill":1,
                        "gridPos":{
                            "h":7,
                            "w":12,
                            "x":12,
                            "y":13
                        },
                        "id":35,
                        "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "max":true,
                            "min":true,
                            "show":true,
                            "total":false,
                            "values":true
                        },
                        "lines":true,
                        "linewidth":1,
                        "links":[

                        ],
                        "nullPointMode":"null",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":false,
                        "targets":[
                            {
                                "expr":"etcd_request_cache_add_latencies_summary{environment=\"$environment\"}",
                                "format":"time_series",
                                "intervalFactor":2,
                                "legendFormat":"Quantile {{quantile}}",
                                "refId":"A",
                                "step":60
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"Cache request latencies (add)",
                        "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"ms",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":"0",
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":false
                            }
                        ],
                        "yaxis":{
                            "align":false,
                            "alignLevel":null
                        }
                    },
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "fill":1,
                        "gridPos":{
                            "h":7,
                            "w":12,
                            "x":0,
                            "y":20
                        },
                        "id":33,
                        "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "max":true,
                            "min":true,
                            "show":true,
                            "total":false,
                            "values":true
                        },
                        "lines":true,
                        "linewidth":1,
                        "links":[

                        ],
                        "nullPointMode":"null",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":false,
                        "targets":[
                            {
                                "expr":"etcd_helper_cache_hit_count{environment=\"$environment\"} / (etcd_helper_cache_miss_count{environment=\"$environment\"} + etcd_helper_cache_hit_count{environment=\"$environment\"}) * 100",
                                "format":"time_series",
                                "intervalFactor":2,
                                "legendFormat":"Hit ratio",
                                "refId":"A",
                                "step":60
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"Cache hit ratio",
                        "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"percent",
                                "label":null,
                                "logBase":1,
                                "max":"100",
                                "min":"0",
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":false
                            }
                        ],
                        "yaxis":{
                            "align":false,
                            "alignLevel":null
                        }
                    },
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "fill":1,
                        "gridPos":{
                            "h":7,
                            "w":12,
                            "x":12,
                            "y":20
                        },
                        "id":34,
                        "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "max":true,
                            "min":true,
                            "show":true,
                            "total":false,
                            "values":true
                        },
                        "lines":true,
                        "linewidth":1,
                        "links":[

                        ],
                        "nullPointMode":"null",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":false,
                        "targets":[
                            {
                                "expr":"sum(rate(etcd_request_latencies_summary_sum{environment=\"$environment\"}[1m])) by (operation) / sum(rate(etcd_request_latencies_summary_count{environment=\"$environment\"}[1m])) by (operation)",
                                "format":"time_series",
                                "intervalFactor":2,
                                "legendFormat":"{{operation}}",
                                "refId":"A",
                                "step":60
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"Average cache request latencies",
                        "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"ms",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":"0",
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":false
                            }
                        ],
                        "yaxis":{
                            "align":false,
                            "alignLevel":null
                        }
                    }
                ],
                "repeat":null,
                "title":"Etcd",
                "type":"row"
            },
            {
                "collapsed":true,
                "gridPos":{
                    "h":1,
                    "w":24,
                    "x":0,
                    "y":13
                },
                "id":54,
                "panels":[
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "decimals":3,
                        "editable":true,
                        "error":false,
                        "fill":0,
                        "grid":{

                        },
                        "gridPos":{
                            "h":7,
                            "w":24,
                            "x":0,
                            "y":48
                        },
                        "height":"",
                        "id":17,
                        "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "max":false,
                            "min":false,
                            "rightSide":true,
                            "show":true,
                            "sort":"current",
                            "sortDesc":true,
                            "total":false,
                            "values":true
                        },
                        "lines":true,
                        "linewidth":2,
                        "links":[

                        ],
                        "nullPointMode":"connected",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":true,
                        "targets":[
                            {
                                "expr":"sum(rate (container_cpu_usage_seconds_total{image!=\"\",container=~\"$container\",environment=\"$environment\",juju_unit=~\"$worker\",namespace=~\"$namespace\"}[1m])) by (pod)",
                                "format":"time_series",
                                "interval":"10s",
                                "intervalFactor":1,
                                "legendFormat":"{{pod}}",
                                "metric":"container_cpu",
                                "refId":"A",
                                "step":15
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"Pods CPU usage (1m avg)",
                        "tooltip":{
                            "msResolution":true,
                            "shared":true,
                            "sort":2,
                            "value_type":"cumulative"
                        },
                        "transparent":false,
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"none",
                                "label":"cores",
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":false
                            }
                        ]
                    }
                ],
                "repeat":null,
                "title":"Pods CPU usage",
                "type":"row"
            },
            {
                "collapsed":true,
                "gridPos":{
                    "h":1,
                    "w":24,
                    "x":0,
                    "y":14
                },
                "id":55,
                "panels":[
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "decimals":3,
                        "description":"",
                        "editable":true,
                        "error":false,
                        "fill":0,
                        "grid":{

                        },
                        "gridPos":{
                            "h":7,
                            "w":24,
                            "x":0,
                            "y":49
                        },
                        "height":"",
                        "id":24,
                        "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "hideEmpty":false,
                            "hideZero":false,
                            "max":false,
                            "min":false,
                            "rightSide":true,
                            "show":true,
                            "sideWidth":null,
                            "sort":"current",
                            "sortDesc":true,
                            "total":false,
                            "values":true
                        },
                        "lines":true,
                        "linewidth":2,
                        "links":[

                        ],
                        "nullPointMode":"connected",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":true,
                        "targets":[
                            {
                                "expr":"sum(rate (container_cpu_usage_seconds_total{image!=\"\",container!=\"POD\",container=~\"$container\",environment=\"$environment\",juju_unit=~\"$worker\",namespace=~\"$namespace\"}[1m])) without (cpu)",
                                "format":"time_series",
                                "hide":false,
                                "interval":"10s",
                                "intervalFactor":1,
                                "legendFormat":"{{ container }} (pod: {{pod}}",
                                "metric":"container_cpu",
                                "refId":"A",
                                "step":15
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"Container CPU usage (1m avg)",
                        "tooltip":{
                            "msResolution":true,
                            "shared":true,
                            "sort":2,
                            "value_type":"cumulative"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"none",
                                "label":"cores",
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":false
                            }
                        ]
                    }
                ],
                "repeat":null,
                "title":"Containers CPU usage",
                "type":"row"
            },
            {
                "collapsed":true,
                "gridPos":{
                    "h":1,
                    "w":24,
                    "x":0,
                    "y":15
                },
                "id":56,
                "panels":[
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "decimals":3,
                        "editable":true,
                        "error":false,
                        "fill":0,
                        "grid":{

                        },
                        "gridPos":{
                            "h":7,
                            "w":24,
                            "x":0,
                            "y":50
                        },
                        "height":"",
                        "id":23,
                        "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "max":false,
                            "min":false,
                            "rightSide":true,
                            "show":true,
                            "sort":"current",
                            "sortDesc":true,
                            "total":false,
                            "values":true
                        },
                        "lines":true,
                        "linewidth":2,
                        "links":[

                        ],
                        "nullPointMode":"connected",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":true,
                        "targets":[
                            {
                                "expr":"sum (rate (container_cpu_usage_seconds_total{id=~\".*systemd.*service$\",environment=\"$environment\",juju_unit=~\"$worker\"}[1m])) by (id)",
                                "format":"time_series",
                                "hide":false,
                                "interval":"10s",
                                "intervalFactor":1,
                                "legendFormat":"{{ id }}",
                                "metric":"container_cpu",
                                "refId":"A",
                                "step":15
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"System services CPU usage (1m avg, worker: $worker)",
                        "tooltip":{
                            "msResolution":true,
                            "shared":true,
                            "sort":2,
                            "value_type":"cumulative"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"none",
                                "label":"cores",
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":false
                            }
                        ]
                    }
                ],
                "repeat":null,
                "title":"System services CPU usage",
                "type":"row"
            },
            {
                "collapsed":true,
                "gridPos":{
                    "h":1,
                    "w":24,
                    "x":0,
                    "y":16
                },
                "id":57,
                "panels":[
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "decimals":3,
                        "editable":true,
                        "error":false,
                        "fill":0,
                        "grid":{

                        },
                        "gridPos":{
                            "h":13,
                            "w":24,
                            "x":0,
                            "y":51
                        },
                        "id":20,
                        "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "max":false,
                            "min":false,
                            "rightSide":false,
                            "show":true,
                            "sort":"current",
                            "sortDesc":true,
                            "total":false,
                            "values":true
                        },
                        "lines":true,
                        "linewidth":2,
                        "links":[

                        ],
                        "nullPointMode":"connected",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":true,
                        "targets":[
                            {
                                "expr":"sum (rate (container_cpu_usage_seconds_total{id!=\"/\",environment=\"$environment\",juju_unit=~\"$worker\"}[1m])) by (id)",
                                "format":"time_series",
                                "hide":false,
                                "interval":"10s",
                                "intervalFactor":1,
                                "legendFormat":"{{ id }}",
                                "metric":"container_cpu",
                                "refId":"A",
                                "step":15
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"All processes CPU usage (1m avg, worker: $worker)",
                        "tooltip":{
                            "msResolution":true,
                            "shared":true,
                            "sort":2,
                            "value_type":"cumulative"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"none",
                                "label":"cores",
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":false
                            }
                        ]
                    }
                ],
                "repeat":null,
                "title":"All processes CPU usage",
                "type":"row"
            },
            {
                "collapsed":true,
                "gridPos":{
                    "h":1,
                    "w":24,
                    "x":0,
                    "y":17
                },
                "id":58,
                "panels":[
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "decimals":2,
                        "editable":true,
                        "error":false,
                        "fill":0,
                        "grid":{

                        },
                        "gridPos":{
                            "h":7,
                            "w":24,
                            "x":0,
                            "y":52
                        },
                        "id":25,
                        "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "max":false,
                            "min":false,
                            "rightSide":true,
                            "show":true,
                            "sideWidth":200,
                            "sort":"current",
                            "sortDesc":true,
                            "total":false,
                            "values":true
                        },
                        "lines":true,
                        "linewidth":2,
                        "links":[

                        ],
                        "nullPointMode":"connected",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":true,
                        "targets":[
                            {
                                "expr":"sum (container_memory_working_set_bytes{image!=\"\",container=~\"$container\",environment=\"$environment\",juju_unit=~\"$worker\",namespace=~\"$namespace\"}) by (pod)",
                                "format":"time_series",
                                "interval":"10s",
                                "intervalFactor":1,
                                "legendFormat":"{{ pod }}",
                                "metric":"container_memory_usage:sort_desc",
                                "refId":"A",
                                "step":10
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"Pods memory usage",
                        "tooltip":{
                            "msResolution":false,
                            "shared":true,
                            "sort":2,
                            "value_type":"cumulative"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"bytes",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":false
                            }
                        ]
                    }
                ],
                "repeat":null,
                "title":"Pods memory usage",
                "type":"row"
            },
            {
                "collapsed":true,
                "gridPos":{
                    "h":1,
                    "w":24,
                    "x":0,
                    "y":18
                },
                "id":59,
                "panels":[
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "decimals":2,
                        "editable":true,
                        "error":false,
                        "fill":0,
                        "grid":{

                        },
                        "gridPos":{
                            "h":7,
                            "w":24,
                            "x":0,
                            "y":53
                        },
                        "id":27,
                        "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "max":false,
                            "min":false,
                            "rightSide":true,
                            "show":true,
                            "sideWidth":200,
                            "sort":"current",
                            "sortDesc":true,
                            "total":false,
                            "values":true
                        },
                        "lines":true,
                        "linewidth":2,
                        "links":[

                        ],
                        "nullPointMode":"connected",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":true,
                        "targets":[
                            {
                                "expr":"sum (container_memory_working_set_bytes{image!=\"\",container!=\"POD\",container=~\"$container\",environment=\"$environment\",juju_unit=~\"$worker\",namespace=~\"$namespace\"}) by (container, pod)",
                                "format":"time_series",
                                "interval":"10s",
                                "intervalFactor":1,
                                "legendFormat":"{{ container }} (pod: {{pod}})",
                                "metric":"container_memory_usage:sort_desc",
                                "refId":"A",
                                "step":10
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"Containers memory usage",
                        "tooltip":{
                            "msResolution":false,
                            "shared":true,
                            "sort":2,
                            "value_type":"cumulative"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"bytes",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":false
                            }
                        ]
                    }
                ],
                "repeat":null,
                "title":"Containers memory usage",
                "type":"row"
            },
            {
                "collapsed":true,
                "gridPos":{
                    "h":1,
                    "w":24,
                    "x":0,
                    "y":19
                },
                "id":60,
                "panels":[
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "decimals":2,
                        "editable":true,
                        "error":false,
                        "fill":0,
                        "grid":{

                        },
                        "gridPos":{
                            "h":7,
                            "w":24,
                            "x":0,
                            "y":54
                        },
                        "id":26,
                        "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "max":false,
                            "min":false,
                            "rightSide":true,
                            "show":true,
                            "sideWidth":200,
                            "sort":"current",
                            "sortDesc":true,
                            "total":false,
                            "values":true
                        },
                        "lines":true,
                        "linewidth":2,
                        "links":[

                        ],
                        "nullPointMode":"connected",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":true,
                        "targets":[
                            {
                                "expr":"sum (container_memory_working_set_bytes{id=~\".*systemd.*service$\",environment=\"$environment\",juju_unit=~\"$worker\"}) by (id)",
                                "format":"time_series",
                                "interval":"10s",
                                "intervalFactor":1,
                                "legendFormat":"{{ id }}",
                                "metric":"container_memory_usage:sort_desc",
                                "refId":"A",
                                "step":10
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"System services memory usage",
                        "tooltip":{
                            "msResolution":false,
                            "shared":true,
                            "sort":2,
                            "value_type":"cumulative"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"bytes",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":false
                            }
                        ]
                    }
                ],
                "repeat":null,
                "title":"System services memory usage",
                "type":"row"
            },
            {
                "collapsed":true,
                "gridPos":{
                    "h":1,
                    "w":24,
                    "x":0,
                    "y":20
                },
                "id":61,
                "panels":[
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "decimals":2,
                        "editable":true,
                        "error":false,
                        "fill":0,
                        "grid":{

                        },
                        "gridPos":{
                            "h":13,
                            "w":24,
                            "x":0,
                            "y":55
                        },
                        "id":28,
                        "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "max":false,
                            "min":false,
                            "rightSide":false,
                            "show":true,
                            "sideWidth":200,
                            "sort":"current",
                            "sortDesc":true,
                            "total":false,
                            "values":true
                        },
                        "lines":true,
                        "linewidth":2,
                        "links":[

                        ],
                        "nullPointMode":"connected",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":true,
                        "targets":[
                            {
                                "expr":"sum (container_memory_working_set_bytes{id!=\"/\",environment=\"$environment\",juju_unit=~\"$worker\"}) by (id)",
                                "format":"time_series",
                                "interval":"10s",
                                "intervalFactor":1,
                                "legendFormat":"{{ id }}",
                                "metric":"container_memory_usage:sort_desc",
                                "refId":"A",
                                "step":10
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"All processes memory usage (worker: $worker)",
                        "tooltip":{
                            "msResolution":false,
                            "shared":true,
                            "sort":2,
                            "value_type":"cumulative"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"bytes",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":false
                            }
                        ]
                    }
                ],
                "repeat":null,
                "title":"All processes memory usage",
                "type":"row"
            },
            {
                "collapsed":true,
                "gridPos":{
                    "h":1,
                    "w":24,
                    "x":0,
                    "y":21
                },
                "id":62,
                "panels":[
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "decimals":2,
                        "editable":true,
                        "error":false,
                        "fill":1,
                        "grid":{

                        },
                        "gridPos":{
                            "h":10,
                            "w":24,
                            "x":0,
                            "y":22
                        },
                        "height":"400px",
                        "id":32,
                        "legend":{
                            "alignAsTable":true,
                            "avg":false,
                            "current":true,
                            "max":true,
                            "min":true,
                            "rightSide":false,
                            "show":true,
                            "sideWidth":200,
                            "sort":"current",
                            "sortDesc":true,
                            "total":false,
                            "values":true
                        },
                        "lines":true,
                        "linewidth":2,
                        "links":[

                        ],
                        "nullPointMode":"connected",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":false,
                        "targets":[
                            {
                                "expr":"sum (rate (container_network_receive_bytes_total{environment=\"$environment\",juju_unit=~\"$worker\"}[1m]))",
                                "format":"time_series",
                                "interval":"10s",
                                "intervalFactor":1,
                                "legendFormat":"Received",
                                "metric":"network",
                                "refId":"A",
                                "step":15
                            },
                            {
                                "expr":"- sum (rate (container_network_transmit_bytes_total{environment=\"$environment\",juju_unit=~\"$worker\"}[1m]))",
                                "format":"time_series",
                                "interval":"10s",
                                "intervalFactor":1,
                                "legendFormat":"Sent",
                                "metric":"network",
                                "refId":"B",
                                "step":15
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"Network I/O pressure (worker: $worker)",
                        "tooltip":{
                            "msResolution":false,
                            "shared":true,
                            "sort":0,
                            "value_type":"cumulative"
                        },
                        "transparent":false,
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"Bps",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"Bps",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":false
                            }
                        ],
                        "yaxis":{
                            "align":false,
                            "alignLevel":null
                        }
                    }
                ],
                "repeat":null,
                "title":"Network I/O",
                "type":"row"
            },
            {
                "collapsed":true,
                "gridPos":{
                    "h":1,
                    "w":24,
                    "x":0,
                    "y":22
                },
                "id":63,
                "panels":[
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "decimals":2,
                        "editable":true,
                        "error":false,
                        "fill":1,
                        "grid":{

                        },
                        "gridPos":{
                            "h":7,
                            "w":24,
                            "x":0,
                            "y":23
                        },
                        "id":16,
                        "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "max":false,
                            "min":false,
                            "rightSide":true,
                            "show":true,
                            "sideWidth":200,
                            "sort":"current",
                            "sortDesc":true,
                            "total":false,
                            "values":true
                        },
                        "lines":true,
                        "linewidth":2,
                        "links":[

                        ],
                        "nullPointMode":"connected",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":false,
                        "targets":[
                            {
                                "expr":"sum (rate (container_network_receive_bytes_total{image!=\"\",pod=~\"$container.*\",environment=\"$environment\",juju_unit=~\"$worker\",namespace=~\"$namespace\"}[1m])) by (pod)",
                                "format":"time_series",
                                "interval":"10s",
                                "intervalFactor":1,
                                "legendFormat":"-> {{ pod }}",
                                "metric":"network",
                                "refId":"A",
                                "step":15
                            },
                            {
                                "expr":"- sum (rate (container_network_transmit_bytes_total{image!=\"\",pod=~\"$container.*\",environment=\"$environment\",juju_unit=~\"$worker\",namespace=~\"$namespace\"}[1m])) by (pod)",
                                "format":"time_series",
                                "hide":false,
                                "interval":"10s",
                                "intervalFactor":1,
                                "legendFormat":"<- {{ pod }}",
                                "metric":"network",
                                "refId":"B",
                                "step":15
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"Pods network I/O (1m avg)",
                        "tooltip":{
                            "msResolution":false,
                            "shared":true,
                            "sort":2,
                            "value_type":"cumulative"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"Bps",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":false
                            }
                        ],
                        "yaxis":{
                            "align":false,
                            "alignLevel":null
                        }
                    }
                ],
                "repeat":null,
                "title":"Pods network I/O",
                "type":"row"
            },
            {
                "collapsed":true,
                "gridPos":{
                    "h":1,
                    "w":24,
                    "x":0,
                    "y":23
                },
                "id":64,
                "panels":[
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "decimals":2,
                        "editable":true,
                        "error":false,
                        "fill":1,
                        "grid":{

                        },
                        "gridPos":{
                            "h":13,
                            "w":24,
                            "x":0,
                            "y":24
                        },
                        "id":29,
                        "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "max":false,
                            "min":false,
                            "rightSide":false,
                            "show":true,
                            "sideWidth":200,
                            "sort":"current",
                            "sortDesc":true,
                            "total":false,
                            "values":true
                        },
                        "lines":true,
                        "linewidth":2,
                        "links":[

                        ],
                        "nullPointMode":"connected",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":false,
                        "targets":[
                            {
                                "expr":"sum (rate (container_network_receive_bytes_total{id!=\"/\",environment=\"$environment\",juju_unit=~\"$worker\"}[1m])) by (id)",
                                "format":"time_series",
                                "hide":false,
                                "interval":"10s",
                                "intervalFactor":1,
                                "legendFormat":"-> {{ id }}",
                                "metric":"network",
                                "refId":"A",
                                "step":15
                            },
                            {
                                "expr":"- sum (rate (container_network_transmit_bytes_total{id!=\"/\",environment=\"$environment\",juju_unit=~\"$worker\"}[1m])) by (id)",
                                "format":"time_series",
                                "hide":false,
                                "interval":"10s",
                                "intervalFactor":1,
                                "legendFormat":"<- {{ id }}",
                                "metric":"network",
                                "refId":"B",
                                "step":15
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"All processes network I/O (1m avg)",
                        "tooltip":{
                            "msResolution":false,
                            "shared":true,
                            "sort":2,
                            "value_type":"cumulative"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "format":"Bps",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":false
                            }
                        ],
                        "yaxis":{
                            "align":false,
                            "alignLevel":null
                        }
                    }
                ],
                "repeat":null,
                "title":"All processes network I/O",
                "type":"row"
            },
            {
                "collapsed":true,
                "gridPos":{
                    "h":1,
                    "w":24,
                    "x":0,
                    "y":24
                },
                "id":65,
                "panels":[
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "decimals":3,
                        "description":"",
                        "editable":true,
                        "error":false,
                        "fill":0,
                        "grid":{

                        },
                        "gridPos":{
                            "h":7,
                            "w":8,
                            "x":0,
                            "y":59
                        },
                        "height":"",
                        "id":45,
                        "legend":{
                            "alignAsTable":true,
                            "avg":false,
                            "current":true,
                            "hideEmpty":false,
                            "hideZero":false,
                            "max":false,
                            "min":false,
                            "rightSide":true,
                            "show":true,
                            "sideWidth":null,
                            "sort":"current",
                            "sortDesc":true,
                            "total":false,
                            "values":true
                        },
                        "lines":true,
                        "linewidth":2,
                        "links":[

                        ],
                        "nullPointMode":"connected",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":true,
                        "targets":[
                            {
                                "expr":"sum by (container) (container_fs_usage_bytes{environment=\"$environment\",id!=\"/\"})",
                                "format":"time_series",
                                "hide":false,
                                "interval":"10s",
                                "intervalFactor":1,
                                "legendFormat":"{{ container }}",
                                "metric":"container_cpu",
                                "refId":"A",
                                "step":15
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"Total Bytes Used By Containers",
                        "tooltip":{
                            "msResolution":true,
                            "shared":true,
                            "sort":2,
                            "value_type":"cumulative"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "decimals":null,
                                "format":"bytes",
                                "label":"Bytes",
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":false
                            }
                        ]
                    },
                    {
                        "aliasColors":{

                        },
                        "bars":false,
                        "dashLength":10,
                        "dashes":false,
                        "datasource":"prometheus - Juju generated source",
                        "decimals":3,
                        "description":"",
                        "editable":true,
                        "error":false,
                        "fill":0,
                        "grid":{

                        },
                        "gridPos":{
                            "h":7,
                            "w":8,
                            "x":8,
                            "y":59
                        },
                        "height":"",
                        "id":46,
                        "legend":{
                            "alignAsTable":true,
                            "avg":false,
                            "current":true,
                            "hideEmpty":false,
                            "hideZero":false,
                            "max":false,
                            "min":false,
                            "rightSide":true,
                            "show":true,
                            "sideWidth":null,
                            "sort":"current",
                            "sortDesc":true,
                            "total":false,
                            "values":true
                        },
                        "lines":true,
                        "linewidth":2,
                        "links":[

                        ],
                        "nullPointMode":"connected",
                        "percentage":false,
                        "pointradius":5,
                        "points":false,
                        "renderer":"flot",
                        "seriesOverrides":[

                        ],
                        "spaceLength":10,
                        "stack":false,
                        "steppedLine":true,
                        "targets":[
                            {
                                "expr":"sum by (container) (container_fs_usage_bytes{environment=\"$environment\", id!=\"/\"}) / on (environment) group_left(id) sum (container_fs_usage_bytes{environment=\"$environment\", id=\"/\"}) * 100",
                                "format":"time_series",
                                "hide":false,
                                "interval":"10s",
                                "intervalFactor":1,
                                "legendFormat":"{{ container }}",
                                "metric":"container_cpu",
                                "refId":"A",
                                "step":15
                            }
                        ],
                        "thresholds":[

                        ],
                        "timeFrom":null,
                        "timeShift":null,
                        "title":"Current Usage Breakdown By Container",
                        "tooltip":{
                            "msResolution":true,
                            "shared":true,
                            "sort":2,
                            "value_type":"cumulative"
                        },
                        "type":"graph",
                        "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                        },
                        "yaxes":[
                            {
                                "decimals":null,
                                "format":"percent",
                                "label":"Percent",
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":true
                            },
                            {
                                "format":"short",
                                "label":null,
                                "logBase":1,
                                "max":null,
                                "min":null,
                                "show":false
                            }
                        ]
                    },
                    {
                        "cacheTimeout":null,
                        "colorBackground":false,
                        "colorValue":false,
                        "colors":[
                            "#299c46",
                            "rgba(237, 129, 40, 0.89)",
                            "#d44a3a"
                        ],
                        "datasource":"prometheus - Juju generated source",
                        "decimals":2,
                        "format":"bytes",
                        "gauge":{
                            "maxValue":100,
                            "minValue":0,
                            "show":false,
                            "thresholdLabels":false,
                            "thresholdMarkers":true
                        },
                        "gridPos":{
                            "h":7,
                            "w":8,
                            "x":16,
                            "y":59
                        },
                        "id":47,
                        "interval":null,
                        "links":[

                        ],
                        "mappingType":1,
                        "mappingTypes":[
                            {
                                "name":"value to text",
                                "value":1
                            },
                            {
                                "name":"range to text",
                                "value":2
                            }
                        ],
                        "maxDataPoints":100,
                        "nullPointMode":"connected",
                        "nullText":null,
                        "postfix":"",
                        "postfixFontSize":"50%",
                        "prefix":"",
                        "prefixFontSize":"50%",
                        "rangeMaps":[
                            {
                                "from":"null",
                                "text":"N/A",
                                "to":"null"
                            }
                        ],
                        "sparkline":{
                            "fillColor":"rgba(31, 118, 189, 0.18)",
                            "full":false,
                            "lineColor":"rgb(31, 120, 193)",
                            "show":false
                        },
                        "tableColumn":"",
                        "targets":[
                            {
                                "expr":"sum(container_fs_usage_bytes{environment=\"prod-comms\", id=\"/\"}) - sum(container_fs_usage_bytes{environment=\"prod-comms\", id!=\"/\"})",
                                "format":"time_series",
                                "instant":false,
                                "intervalFactor":2,
                                "refId":"A"
                            }
                        ],
                        "thresholds":"",
                        "title":"Total Bytes Not Used By Containers",
                        "transparent":false,
                        "type":"singlestat",
                        "valueFontSize":"80%",
                        "valueMaps":[
                            {
                                "op":"=",
                                "text":"N/A",
                                "value":"null"
                            }
                        ],
                        "valueName":"avg"
                    }
                ],
                "repeat":null,
                "title":"Container Disk Utilisation",
                "type":"row"
            }
        ],
        "schemaVersion":16,
        "style":"dark",
        "tags":[
            "Juju",
            "Kubernetes"
        ],
        "templating":{
            "list":[
                {
                    "allValue":".*",
                    "current":{

                    },
                    "datasource":"prometheus - Juju generated source",
                    "hide":0,
                    "includeAll":false,
                    "label":null,
                    "multi":false,
                    "name":"environment",
                    "options":[

                    ],
                    "query":"label_values(scheduler_binding_latency_microseconds_count,environment)",
                    "refresh":1,
                    "regex":"",
                    "sort":0,
                    "tagValuesQuery":"",
                    "tags":[

                    ],
                    "tagsQuery":"",
                    "type":"query",
                    "useTags":false
                },
                {
                    "allValue":".*",
                    "current":{

                    },
                    "datasource":"prometheus - Juju generated source",
                    "hide":0,
                    "includeAll":true,
                    "label":null,
                    "multi":false,
                    "name":"namespace",
                    "options":[

                    ],
                    "query":"label_values(container_memory_usage_bytes{environment=\"$environment\",namespace=~\".+\",container!=\"POD\"},namespace)",
                    "refresh":1,
                    "regex":"",
                    "sort":1,
                    "tagValuesQuery":"",
                    "tags":[

                    ],
                    "tagsQuery":"",
                    "type":"query",
                    "useTags":false
                },
                {
                    "allValue":".*",
                    "current":{

                    },
                    "datasource":"prometheus - Juju generated source",
                    "hide":0,
                    "includeAll":true,
                    "label":null,
                    "multi":false,
                    "name":"worker",
                    "options":[

                    ],
                    "query":"label_values(container_memory_usage_bytes{environment=\"$environment\",namespace=~\".+\",container!=\"POD\"},juju_unit)",
                    "refresh":1,
                    "regex":"",
                    "sort":0,
                    "tagValuesQuery":"",
                    "tags":[

                    ],
                    "tagsQuery":"",
                    "type":"query",
                    "useTags":false
                },
                {
                    "allValue":".*",
                    "current":{

                    },
                    "datasource":"prometheus - Juju generated source",
                    "hide":0,
                    "includeAll":true,
                    "label":null,
                    "multi":false,
                    "name":"container",
                    "options":[

                    ],
                    "query":"label_values(container_memory_usage_bytes{environment=\"$environment\",namespace=~\"$namespace\",juju_unit=~\"$worker\",container!=\"POD\"},container)",
                    "refresh":1,
                    "regex":"",
                    "sort":1,
                    "tagValuesQuery":"",
                    "tags":[

                    ],
                    "tagsQuery":"",
                    "type":"query",
                    "useTags":false
                }
            ]
        },
        "time":{
            "from":"now-6h",
            "to":"now"
        },
        "timepicker":{
            "refresh_intervals":[
                "5s",
                "10s",
                "30s",
                "1m",
                "5m",
                "15m",
                "30m",
                "1h",
                "2h",
                "1d"
            ],
            "time_options":[
                "5m",
                "15m",
                "1h",
                "6h",
                "12h",
                "24h",
                "2d",
                "7d",
                "30d"
            ]
        },
        "timezone":"utc",
        "title":"Charmed Kubernetes Dashboard",
        "version":1
    }
}